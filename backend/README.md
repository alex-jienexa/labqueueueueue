## Сторона бекенда

API доступно по адресу 127.0.0.1:8080 (по умолчанию).
Все методы, кроме `register`, `login` и `ping` требуют содержания JWT-токена в заголовке запроса.
Этот JWT-токен можно получить с помощью успешного выполнения `login`, так что лучше хранить его где-то во фронтенде.
Использовать JWT-токен надо в заголовке запроса:
```
curl -X GET http://localhost:8080/queues/active \
  -H "Authorization: JWT-токен-здесь"
```

### Методы в API

- `GET /ping` - понг. Используется для проверки бекенда.
- `POST /register` - Регистрация пользователя. В ответ возвращает созданного пользователя в базе данных. Принимает следующие поля. 
    - `name` - имя пользователя
    - `surname` - фамилия пользователя
    - `username` - логин для входа в систему
    - `password` - пароль для входа в систему
    - `is_admin` - булевый флаг, отвечающий за то является ли регистрируемый пользователь админитратором/старостой. 
- `POST /login` - Вход пользователя в систему. В ответ возвращает JWT-токен, который будет требоваться для всех дальнейших действий. Принимает следующие поля:
    - `username` - логин для входа в систему
    - `password` - пароль для входа в систему.

**Дальнейшие методы требуют JWT-токен в заголовке:**
- `GET /rping` - тот же пинг, только под защитой JWT-токена. Используется для тестирования доступа к методам через использование токенов.
- `POST /queues` - создание очереди. Только пользователь с `IsAdmin = true` может это делать. В результате возвращается объект `Queue` созданной очереди. Принимает следующие поля:
    - `title` - название очереди
    - `starts_at` - время начала приёма записи в очередь
    - `ends_at` - время окончания приёма записи в очередь
    - `resolution_method` - метод поведения с пользователями в конфликтной ситуации. Может принимать только значения: `"move_after"` ("после тебя тогда значит"), `"first_free"` ("в конец очереди"), `"to_end"` ("ливай с позором").
- `GET /queues` - получить все очереди, которые есть в системе. Возвращает в ответ массив из объектов очередей.
- `GET /queues/active` - возвращает активную очередь. Активной очередью является та, в которую возможна запись, то есть текущее время находится в промежутке между `Queue.starts_at` и `Queue.ends_at`.
- `GET /queues/:id` - получает подробную информацию об очереди по её ID. 
- `PUT /queues/:id` - добавляет студента, *от чьего имени был отправлен запрос* (проверяется JWT-токеном) в очередь `id`. Возвращает объект позиции в очереди `QueueEntry` после успешного помещения студента в очереди. В теле запроса принимает только числовой аргумент `position`. Если `position = 0`, то студент будет помещён в первое свободное место в очереди. Иначе, он будет в указанном месте с вызовом конфликтных ситуаций. Метод также обновляет конфликтные ситуации каждого студента в позиции `position`.